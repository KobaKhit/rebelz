<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Content Manager</title>
  <!-- Include your site's stylesheet for the preview -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
  <style>
    /* This ensures the styles only apply to the preview iframe */
    .frame-content {
      --primary: #e63946;
      --primary-hover: #c1121f;
      --primary-focus: rgba(230, 57, 70, 0.25);
      --background-color: #000000;
      --card-background-color: #121212;
      --card-sectionning-background-color: #1e1e1e;
      --card-border-color: #333;
      --color: #ffffff;
      --h1-color: #ffffff;
      --h2-color: #e63946;
      --h3-color: #e63946;
      --h4-color: #ffffff;
      --h5-color: #ffffff;
      --h6-color: #ffffff;
    }
    
    /* Custom preview styles */
    .coach-preview, .player-preview {
      display: flex;
      align-items: center;
      gap: 1rem;
      background-color: #1e1e1e;
      padding: 1rem;
      margin-bottom: 0.5rem;
      border-radius: 0.25rem;
      border: 1px solid #333;
    }
    
    .coach-image-preview, .player-image-preview {
      width: 70px;
      height: 70px;
      object-fit: cover;
      flex-shrink: 0;
      border: 2px solid #e63946;
    }
    
    .coach-image-preview {
      border-radius: 50%;
    }
    
    .player-image-preview {
      border-radius: 0.25rem;
    }
    
    .info-preview {
      flex-grow: 1;
    }
    
    .name-preview {
      font-weight: bold;
      margin-bottom: 0.25rem;
      color: #ffffff;
      font-size: 0.95rem;
    }
    
    .title-preview {
      font-style: italic;
      color: #aaa;
      margin-bottom: 0.25rem;
      font-size: 0.8rem;
    }
    
    .bio-preview {
      font-size: 0.8rem;
      color: #dddddd;
      line-height: 1.3;
    }
    
    .team-header-preview {
      background-color: #121212;
      border: 1px solid #333;
      border-radius: 0.25rem 0.25rem 0 0;
      padding: 0.75rem;
      text-align: center;
      font-weight: bold;
      color: #e63946;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
  </style>
</head>
<body>
  <!-- Include the script that builds the page and powers Netlify CMS -->
  <script src="https://unpkg.com/netlify-cms@^2.10.192/dist/netlify-cms.js"></script>
  
  <!-- Custom preview templates -->
  <script>
    // Wait for CMS to load
    window.addEventListener('load', function() {
      // Coach Preview
      var CoachPreview = createClass({
        render: function() {
          var entry = this.props.entry;
          var coach = entry.getIn(['data', 'coaches']).toJS()[0] || {};
          
          return h('div', { className: 'coach-preview' },
            h('img', { className: 'coach-image-preview', src: coach.image || 'https://placehold.co/100x100/png', alt: coach.name }),
            h('div', { className: 'info-preview' },
              h('div', { className: 'name-preview' }, coach.name),
              h('div', { className: 'bio-preview' }, coach.bio)
            )
          );
        }
      });
      
      // Player Preview
      var PlayerPreview = createClass({
        render: function() {
          var entry = this.props.entry;
          var team = entry.getIn(['data', 'teams']).toJS()[0] || {};
          var player = team.players && team.players[0] || {};
          
          return h('div', {},
            h('div', { className: 'team-header-preview' }, team.name),
            h('div', { className: 'player-preview' },
              h('img', { className: 'player-image-preview', src: player.image || 'https://placehold.co/80x80/png', alt: player.name }),
              h('div', { className: 'info-preview' },
                h('div', { className: 'name-preview' }, player.name),
                h('div', { className: 'title-preview' }, (player.position || '') + (player.height ? ' | ' + player.height : '')),
                h('div', { className: 'bio-preview' }, player.bio)
              )
            )
          );
        }
      });
      
      // Register preview templates
      CMS.registerPreviewTemplate('coaches-list', CoachPreview);
      CMS.registerPreviewTemplate('players-list', PlayerPreview);
      
      // Apply dark theme to preview pane
      CMS.registerPreviewStyle('', { raw: true });
    });
  </script>
</body>
</html> 